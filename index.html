<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>VK Photo Map</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://api-maps.yandex.ru/2.1/?lang=en_RU" type="text/javascript"></script>
    <script src="js/scripts.js"></script>
</head>
<body>

<header>
    <h1>VK Photo Map</h1>
    <div id="profileInfo" style="display: none;">
        <span id="profileName"></span>
        <button onclick="logout()">Logout</button>
    </div>
</header>

<section id="map-section">
    <div id="map"></div>
</section>

<section id="search-form">
    <form id="searchForm" autocomplete="off">
        <input type="text" id="address" placeholder="Enter street name">
        <input type="text" id="vkID" placeholder="Search by VK ID">

        <select id="ageFilter">
            <option value="">Select Age</option>
            <option value="18-25">18-25</option>
            <option value="26-35">26-35</option>
            <option value="36-50">36-50</option>
        </select>

        <select id="genderFilter">
            <option value="">Select Gender</option>
            <option value="male">Male</option>
            <option value="female">Female</option>
        </select>

        <input type="text" id="interestFilter" placeholder="Interests (e.g., travel, sports)">
        <input type="text" id="communityFilter" placeholder="Community (e.g., group ID)">
        <input type="number" id="friendsFilter" placeholder="Number of friends (e.g., >100)">
        
        <input type="number" id="radiusFilter" placeholder="Radius (m)" min="1" value="100">
        <input type="date" id="startDate" placeholder="Start Date">
        <input type="date" id="endDate" placeholder="End Date">

        <button type="button" onclick="applyFilters()">Search</button>
    </form>
</section>

<section id="gallery">
    <h2>Gallery of Photos</h2>
    <div id="photoGallery" class="photo-grid"></div>
    <div id="paginationControls">
        <button id="prevPage" onclick="changePage(-1)">Previous</button>
        <span id="pageInfo">Page 1</span>
        <button id="nextPage" onclick="changePage(1)">Next</button>
    </div>
</section>

<div id="vkProfileModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <div id="vkProfileDetails"></div>
    </div>
</div>

<div>
    <button id="vkLoginButton">Login with VK</button>
</div>

<script>
    document.getElementById("vkLoginButton").addEventListener("click", function() {
        const clientId = "<идентификатор приложения>";
        const redirectUri = "https://g3737.github.io"; // ваш адрес перенаправления
        const state = "random_string"; // произвольная строка состояния
        const scope = "friends,photos"; // права доступа, которые вам нужны
        const codeChallenge = "your_code_challenge"; // преобразованный code_verifier
        const codeChallengeMethod = "S256"; // метод преобразования

        const authUrl = `https://id.vk.com/authorize?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}&state=${state}&code_challenge=${codeChallenge}&code_challenge_method=${codeChallengeMethod}&scope=${scope}`;

        window.location.href = authUrl; // Перенаправление на страницу авторизации
    });
</script>


</body>
</html>
